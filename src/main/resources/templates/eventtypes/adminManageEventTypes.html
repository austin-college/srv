<#import "/main_layout.html" as layout />

<@layout.stdpage "Manage Event Types" "home.css" "eventTypes.js">

<div id="mainContainer" class="container">
	
	<!-- Page instructions -->
	<div class="row" style="padding-left: 20px; padding-bottom: 20px">
		<div class="col-md" id="instructions">
			<p>Please select the action you would like to take.</p>
		</div>
	</div>
	
	<!-- table title. -->
	<div class="row" style="padding-left: 20px; padding-bottom: 20px">
		<div class="col">
			<h2>Event Types</h2>
		</div>
	</div>
	
	<!-- Add/Create new event type button -->
	<div class="row" style="padding-left: 20px; padding-bottom: 20px">
		<div class="col">
			<button id="btnEvNew" class="btn btn-md addBtn">
				<span class="fas fa-plus-circle"></span> Create New
			</button>
		</div>
	</div>
	
	<div class="row" style="padding-left: 20px; padding-bottom: 20px">
		<div class="col">

		<!-- Event Types table -->
			<table id="tblEvType" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
				<thead>
					<tr>
						<th class="th-sm">ID</th>
						<th class="th-sm">(Name) Description</th>
						<th class="th-sm">Default Hours</th>
						<th class="th-sm">Default Service Client</th>
						<th class="th-sm">Action</th>
					</tr>
				</thead>
				<tbody>
					<#if evTypes??>
					<#list evTypes as et>
					<tr id="etid-${et.etid?c}">
						<td class="et_id etView" etid="${et.etid?c}">${et.etid!"UNKNOWN ID"}</td>
						<td class="et_name_descr etView" etid="${et.etid?c}">(${et.name!"UNKNOWN NAME"}) ${et.description!"UNKNOWN DESCRIPTION"}</td>
						<td class="et_hr etView" etid="${et.etid?c}">${et.defHours!"0"}</td>
						<#if et.defClient??>
							<td class="et_sc etView" etid="${et.etid?c}">${et.defClient.name}</td>
						<#else>
							<td class="et_sc evView" eid="${et.etid?c}">No Service Client</td>
						</#if>
						
						<!--action buttons-->
						<td class="etActions">
							<button class="btn edit btnEtEdit" etid="${et.etid?c}">
								<i class="fas fa-pencil-alt"></i>
							</button>
							<button class="btn btnView btnEtView" etid="${et.etid?c}">
								<i class="fas fa-search"></i>
							</button>
							<button class="btn del btnEtDel" etid="${et.etid?c}">
								<i class="far fa-trash-alt"></i>
							</button>
						</td>
					</tr>
					</#list>
					</#if>
				</tbody>
				<tfoot>
				</tfoot>
			</table>
		</div>
	</div>

	<!-- back button -->
	<div class="row" style="padding-left: 20px; padding-bottom: 20px">
		<button onclick="goBack()" class="btn edit">
			<span class="fas fa-arrow-left"></span> Back
		</button>
	</div>
	
</div>
</@layout.stdpage>