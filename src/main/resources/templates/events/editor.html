<#import "/main_layout.html" as layout />
<#import "/contacts/contact_views.html" as ct />

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css">
<@layout.stdpage "Blank Template" "editor.css" "editor.js">

<!-- Page Content -->
<div class="container-fluid">
  
<h1>Edit Event</h1>

	<#if errMsg??>
	<div class="alert alert-danger row" id="page-error">
	${errMsg}
	</div>
	</#if>

<hr/>
<br/>
<div id="evFormDiv">
<form id="evForm" method="post" action="/srv/events/update/${event.eid?c}">
  <input type="hidden" value="${event.eid?c}">
  
  <div class="form-group">
    <label for="evType">Event Type</label>
	<select id="evType" name="evtype" class="form-control">
    <#list evtypes as et>
     <#if et.etid == event.type.etid >
      <option value="${et.etid} " selected>(${et.name}) ${et.description}</option>
     <#else>
	  <option value="${et.etid}">(${et.name}) ${et.description}</option>
	 </#if>
	</#list>		
  </select>
  </div>
  
  <div class="form-group">
    <label for="evTitle">Event Title</label>
    <input type="text" class="form-control" id="evTitle" name="evTitle" aria-describedby="titleHelp" placeholder="event title" value="${event.title}">
    <small id="titleHelp" class="form-text text-muted">Name of event for display.</small>
  </div>
  
  <div class="form-group">
    <label for="evAddress">Event Location</label>
    <input type="text" class="form-control" id="evAddress" name="evAddress" aria-describedby="addressHelp" placeholder="event address" value="${event.address}">
    <small id="addressHelp" class="form-text text-muted">Location of event.</small>
  </div>
  
  <p>
  Date: <input type="text" id="evDate" name="evDate" aria-describedby="dateHelp" placeholder="event date" value="${event.date?string['yyyy/MM/dd HH:mm']}">
  </p>
  
   <div class="row form-group">
	   <div class="col-sm-3">
	    <label for="evVN">Number of Volunteers Needed</label>
	    <input type="text" class="form-control" id="evVN" name="evVN" aria-describedby="volunteersNeededHelp" placeholder="event volunteers needed" value="${event.volunteersNeeded}">
	    <small id="volunteersNeededHelp" class="form-text text-muted">Number of Volunteers for event for display.</small>
	  </div>
	  
	  <div class="col-sm-3">
	    <label for="evNVH">Total Volunteer Hours Needed</label>
	    <input type="text" class="form-control" id="evNVH" name="evNVH" aria-describedby="neededVolunteerHoursHelp" placeholder="event needed volunteer hours" value="${event.neededVolunteerHours}">
	    <small id="volunteersNeededHelp" class="form-text text-muted">Hours needed for event for display.</small>
	  </div>
	
	  <div class="col-sm-3">
	    <label for="evRsvp">Total Number of Hours Pledged</label>
	    <input type="text" class="form-control" id="evRsvp" name="evRsvp" aria-describedby="rsvpHelp" placeholder="event rsvp volunteer hours" value="${event.rsvpVolunteerHours}">
	    <small id="rsvpHelp" class="form-text text-muted">Total number of pledged via RSVP.</small>
	  </div>  
  </div>
  
  <div class="form-group">
    <label for="evNote">Note</label>
    <textarea name="message" class="form-control" rows="3" name="evNote" id="evNote aria-describedby="noteHelp" placeholder="event note" value="${event.note}"></textarea> 
    <small id="noteHelp" class="form-text text-muted">Note of event for display.</small>
  </div>  
  
   <div class="form-check">
   <#if event.continuous==true>
    <input type="checkbox" class="form-check-input" id="evContinuous" name="evContinuous" checked="checked">
    <#else>
    <input type="checkbox" class="form-check-input" id="evContinuous" name="evContinuous">
    </#if>
    <label class="form-check-label" for="evContinuous">Ongoing/Continuous event.</label>
  </div>
  
    <div class="border bg-light" style="padding: 10px; font-size: x-small; margin-top:2em;">
  	 <div>
  	 <h2>Contact <button id="btnContact" class="btn btn-md btn-light border">...</button></h2>
  	 </div>
  	 
  	 <#if event.contact??>
  		<@ct.view event.contact />
  	  <#else>
  	  	NO CONTACT
  	  </#if>
  	  
  	</div>
  	
  
  <br/>
  <br/>
  <button id="btnEvEdit" type="submit" class="btn btn-primary">Submit</button>
</form>

</div>

</div>

<link rel="stylesheet" href="/srv/css_style/jquery.datetimepicker.css" />
<script src="/srv/js/jquery.datetimepicker.full.js"></script>

</@layout.stdpage>
